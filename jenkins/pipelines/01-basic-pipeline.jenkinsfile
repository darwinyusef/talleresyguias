// Pipeline b√°sico de Jenkins
// Este es el ejemplo m√°s simple de un pipeline declarativo

pipeline {
    agent any
    
    stages {
        stage('Inicio') {
            steps {
                echo 'üöÄ Iniciando pipeline b√°sico...'
                echo "Build n√∫mero: ${BUILD_NUMBER}"
                echo "Job: ${JOB_NAME}"
            }
        }
        
        stage('Informaci√≥n del Sistema') {
            steps {
                echo 'üìä Informaci√≥n del sistema:'
                sh '''
                    echo "Usuario: $(whoami)"
                    echo "Directorio: $(pwd)"
                    echo "Fecha: $(date)"
                    echo "Sistema: $(uname -a)"
                '''
            }
        }
        
        stage('Verificar Herramientas') {
            steps {
                echo 'üîß Verificando herramientas instaladas:'
                sh '''
                    echo "=== Git ==="
                    git --version
                    
                    echo "=== Docker ==="
                    docker --version
                    
                    echo "=== Docker Compose ==="
                    docker compose version
                '''
            }
        }
        
        stage('Simulaci√≥n de Build') {
            steps {
                echo 'üî® Simulando proceso de build...'
                sh 'sleep 2'
                echo '‚úÖ Build completado'
            }
        }
        
        stage('Simulaci√≥n de Tests') {
            steps {
                echo 'üß™ Ejecutando tests...'
                sh 'sleep 2'
                echo '‚úÖ Tests pasaron exitosamente'
            }
        }
    }
    
    post {
        success {
            echo '‚úÖ Pipeline completado exitosamente!'
        }
        failure {
            echo '‚ùå Pipeline fall√≥!'
        }
        always {
            echo 'üßπ Limpieza final...'
        }
    }
}
